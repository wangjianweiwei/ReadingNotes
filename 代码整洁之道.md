# 第一章 整洁代码

阅读本书的两个原因:
- 你是一个程序员
- 你想成为更好的程序员

读完本书后有何收获
- 能说出好代码和糟糕代码之间的差异
- 了解如何写出好代码
- 如何将糟糕的代码改为好代码

## 1.1 要有代码

## 1.2 糟糕的代码
我们用 "沼泽" 来形容糟糕的代码

为什么会出现糟糕的代码?
- 想快点完成, 赶时间
- 想快带你做完这件事,因为你想做的事下一件事

*稍后等于永不*

## 1.3 混乱的代价
- 团队生产力持续下降
- 管理层需要增加更多人手到项目中, 期望提升生产力
- 引进新人, 制造更多混乱

### 1.3.1 华丽新设计

### 1.3.2 态度

### 1.3.3 谜题

### 1.3.4 代码整洁的艺术
能分辨整洁代码和糟糕代码, 并不意味着会写出整洁的代码

### 1.3.5 什么是整洁代码

# 第二章 有意义的命名

## 2.1 介绍
我们需要给变量, 函数, 参数, 类名和封包命名.
我们在源代码所在的目录命名.
我们不断命名, 命名, 再命名.
既然有这么多命名要做, 不妨做好它.

## 2.2 名副其实
变量, 函数或类的名称应该已经答复了所有的大问题, 他该告诉你, 他什么存在, 他做什么事, 应该怎么用, 如果还需要注释来补充, 那就不算名副其实

## 2.3 避免误导
- 避免留下掩藏代码本意的错误线索
- 避免使用与本意相悖的词

## 2.4 做有意义的区分
因为同一作用范围内两样不同的东西不能重名, 你可能会随手改掉其中一个的名称, 有时干脆以错误的拼写充数, 结果就会导致编译器出错, 或者容易让其他人混淆
比如在上个版本中有个功能函数叫做`func`
但是在下个版本中把这个功能函数重写了, 但又不想把原来的删掉, 所有写的就把原来的改为`func1`, 新的功能函数叫做`func`

很奇怪吧

## 2.5 使用读得出来的名称
如果名称读不出来, 讨论时就像傻鸟一样

## 2.6 使用可搜索的名称
对于单字母名称和数字常量, 有一个问题, 就是很难在一遍文字中找出来
找`MAX_CLASSES_PER_STUDENT`很容易, 但是找数字`7`就麻烦了.

一般情况下长名称胜于短名称, 搜的找的名称胜于自造编码的名称
名称的长短应于其作用域大小想对应.
若变量或常量可能在代码中多处使用, 则应赋予其便于搜索的名称.

## 2.7 避免使用编码
编码已经太多了, 无畏在自找麻烦, 把类型或作用域写进名称里, 徒然增加了解码的负担.
带编码的名称通常也不便发音, 也容易打错.


## 2.8 避免思维映射
不应当让读者在脑中把你的名称翻译为他们熟知的名称, 这种问题经常出现在选择是使用`问题领域术语`好还是`解决方案领域术语`

*聪明程序员和专业程序员之间的区别, 专业程序员了解, 明确是王道, 专业程序员善用其能, 编写其他人能理解的代码*

## 2.9 类名
类名或对象名, 应该是名词或名词短语

## 2.10 方法名
方法名应该是动词或动词短语

## 2.11 别抖机灵
言到意到, 意到言到

## 2.12 每一个概念对应一个词
给每个抽象概念选一个词, 并一以贯之.
例如在用fetch, retrieve和get来给多个类中的同一种方法命名, 你怎么才能记住那个类用了那个名字呢

对于那些会用到你代码的程序员, 一以贯之的命名方法简直就是天降福音.

## 2.13 别用双关语
避免将同一单词用于不同的目的, 同一个术语用于不同的概念, 这基本上就是双关语了

## 2.14 使用解决方案领域名称

## 2.15 使用源自所涉问题领域的名称

## 2.16 添加有意义的语境

## 2.17 不要添加没用的语境


# 第三章 函数
## 3.1 短小
函数不应有100行那么长, 20行最佳

**代码块和缩进**
这一部分python天生就已经限制了
函数的嵌套层级不该多余两层, 当然这样的函数易于阅读和理解

## 3.2 只做一件事
函数应该只做一件事, 做好这件事, 只做这一件事

## 3.3 每个函数一个抽象层级
函数中混杂不同抽象层级, 往往会让人迷惑, 读者往往无法判断某个表达式是基础概念还是细节, 更恶劣的是, 就想破损的窗户, 一旦细节与基础混杂, 更多细节就会在函数中纠结起来

**自顶向下读代码: 向下规则**
我们要向让代码拥有自顶向下的阅读顺序, 我们想要让每个函数后面都跟着位于下一个抽象层级的函数, 这样一来, 在查看函数列表时, 就能循抽象层级向下阅读了, 我们把这个叫做"向下规则"

## 3.4 switch语句

## 3.5 使用具有描述性的名称
别害怕长名称, 长而具有描述性的名称要比短而令人费解的名称好
长而具有描述性的名称, 要比描述性的长注释好

## 3.6 函数参数
### 3.6.1 单参数函数的普遍形式

### 3.6.1 标识参数
在python中有位置参数和关键字参数
```python
def render(true):
    pass
```
```python
def render(is_suite: bool):
    pass
```
很明显第二种明显比第一种可读性要高, 这就是标识参数(关键字参数)的作用, 这大概就是为啥在python的新版本中加入类型注解的原因吧.

### 3.6.2 双参数函数
有两个参数的函数比一个参数的函数难懂
尽管两个参数的意义都很清楚
```python
def assert_equals(expected, actual):
    pass
```
在使用`assert_equals`时, 你可能总是记不住两个参数的顺序, 虽然参数的顺序也是一种约定, 约定就代表束缚, 会带来成本的增加.
在这个时候就应该利用一些其他的机制, 将双参数转换为单参数的函数
- 通过解耦将一个功能拆分为两个函数, 这时参数也会分开
- 通过继承分离出一个新类
......

### 3.6.3 三参数对象

### 参数对象
如果函数看起来需要2个, 3个, 4个或者更多参数, 就说明其中一些参数应该封装为类了
